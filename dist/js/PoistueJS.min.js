/*!
 * PoistueJS v1.0.2 (https://github.com/iskandarjamil/PoistueJS)
 * Copyright 2015-2016 Iskandar Jamil <iskandar.jam@gmail.com>
 * Licensed under MIT (https://github.com/iskandarjamil/PoistueJS/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("PoistueJS's JavaScript requires jQuery");var PoistueJS=function(a){var b=this;b.defaults={title:"PoistueJS",author:"Iskandar Jamil <iskandar.jamil@yahoo.com>",website:"http://jen-apps.iskandarjamil.com/",responsive:{"xxs-max":"480px","xs-min":"481px","xs-max":"767px","sm-min":"768px","sm-max":"991px","md-min":"992px","md-max":"1023px","lg-min":"1024px"},bower_assets:"./assets",autoinsert:!1},b.option=$.extend({},b.defaults,a),b.init()};PoistueJS.prototype.init=function(){var a=this,b=a.option;a.method(),a.method.transition=a.method.transitionEnd(),a.init_controller(),a.lazyload(),a.scroll_to_top(),a.scroll_balloon(),a.extend_view(),a.form_validator(),a.google_map(),b.autoinsert!==!1&&$.each(b.autoinsert,function(b,c){switch(c){case"lazyload":a.lazyload.insert();break;case"form_validator":a.form_validator.insert()}}),$.fn.PoistueJS().emulateTransitionEnd=function(b){var c=!1,d=this;$(this).one($.support.transition.end,function(){c=!0});var e=function(){c||$(d).trigger(a.method.transition.end)};return setTimeout(e,b),this}},PoistueJS.prototype.init_controller=function(a){var b=this;b.option},PoistueJS.prototype.extend_view=function(a){var b=this;b.option;b.extend_view={type:"extend_view",class:"extend-view",options:"",defaults:{child_elem:".item-ev",cta:".btn-ev",start:4,limit:4,animation:!0,effect:"zoom",step:!1},$element:null};var c=b.extend_view,d=b.method.transition;b.extend_view._init=function(a,b){null!==typeof a&&(c.$element=a,c.options=$.extend({},c.defaults,b),c.controller())},b.extend_view.checkLimit=function(a){var d=c.options,e=d.limit,f=b.option.responsive,g=a,h=g.attr("data-limit-xs"),i=g.attr("data-limit-sm"),j=g.attr("data-limit-md"),k=g.attr("data-limit-lg"),l=window.matchMedia;return"undefined"!=typeof i&&""!==i&&l("(min-width: "+f["sm-min"]+")").matches&&(e=i),"undefined"!=typeof j&&""!==j&&l("(min-width: "+f["md-min"]+")").matches&&(e=j),"undefined"!=typeof k&&""!==k&&l("(min-width: "+f["lg-min"]+")").matches&&(e=k),"undefined"!=typeof h&&""!==h&&l("(max-width: "+f["xs-max"]+")").matches&&(e=h),e=parseInt(e)},b.extend_view.controller=function(){var a=c.options,b=c.$element,e=function(){b.trigger("insert.pstjs."+c.type)};for(b.addClass(c.class),a.animation&&b.addClass("effect-"+a.effect),i=0;i<a.start;i++)b.find(a.child_elem).eq(i).addClass("in");b.find(a.child_elem+":not(.in)").length<=0&&b.find(a.cta).hide(),d?b.one(d.end,e).emulateTransitionEnd(100):e(),b.on("click",a.cta,function(){c.show(b,a)})},b.extend_view.show=function(a,b){var e=b,f=a,g=f.find(e.child_elem+":not(.in)").index(),h=c.checkLimit(f),j=0,k=function(){f.trigger("shown.pstjs."+c.type),g<1&&f.find(e.cta).hide(),f.find(e.child_elem+":not(.in)").length<=0&&f.find(e.cta).hide(),setTimeout(function(){$(window).trigger("scroll")},100)};h+=g;var l=[];for(i=g;i<h;i++)l.push(f.find(e.child_elem).eq(i));e.step>1?(j=100,$.each(l,function(a,b){setTimeout(function(){$(b).addClass("in").trigger("show.pstjs."+c.type)},.425*j),j=(a+1)*e.step})):$.each(l,function(a,b){$(b).addClass("in").trigger("show.pstjs."+c.type)}),d?setTimeout(function(){f.one(d.end,k).emulateTransitionEnd(100)},.425*j):k()},$.fn.PoistueJS().extend_view=function(a){return this.each(function(){var b=$(this),d="object"==typeof a&&a;"string"==typeof a&&data[a](),c._init(b,d)})},$(window).on("load",function(){$("[data-extend-view]").each(function(){var a=$(this),b=a.data();c._init(a,b)})})},PoistueJS.prototype.form_validator=function(a){var b=this,c=b.option;b.form_validator={type:"form_validator",options:"",defaults:{autoinsert:!1,ajax:!1,action:"./",method:"POST",type:"json"},$element:null},b.form_validator.options=$.extend({},b.form_validator.defaults,a);var d=b.form_validator;d.options,b.method.transition;b.form_validator.insert=function(a){var d=function(){"undefined"!=typeof a&&a()};b.load_external(c.bower_assets+"/bootstrap-validator/dist/validator.min.js",d)},b.form_validator._init=function(a,c){d.$element=a,d.options=$.extend({},d.defaults,c);var e=$(d.$element),f=d.options,g=function(){e.trigger("insert.pstjs."+d.type)};$("input.numberonly").keypress(function(a){if(8!==a.which&&43!==a.which&&0!==a.which&&(a.which<48||a.which>57))return!1}),$.each(e.find("input.numberonly"),function(){var a=$(this),c=$(this).attr("pattern");"undefined"==typeof c&&$(a).attr("pattern",b.method.pattern("phone"))}),$.each(e.find('input[type="email"]'),function(){var a=$(this),c=$(this).attr("pattern");"undefined"==typeof c&&$(a).attr("pattern",b.method.pattern("email"))}),e.validator().on("submit",function(a){var b=$(this);a.isDefaultPrevented()&&$(b).find(".form-group.has-error").eq(0).find(".form-control").focus();var c=b.attr("method");"undefined"!=typeof c&&(f.method=c);var e=b.attr("action");if("undefined"!=typeof e&&(f.action=e),f.ajax)return $.ajax({url:f.action,type:f.method,dataType:f.type,async:!1,data:b.serialize(),success:function(a){b.trigger("ajax-success.pstjs."+d.type,a),b[0].reset()},error:function(a){b.trigger("ajax-error.pstjs."+d.type,a)}}),!1}),g()},$.fn.PoistueJS().form_validator=function(a){return this.each(function(){var b=$(this),c="object"==typeof a&&a;"string"==typeof a&&data[a](),d._init(b,c)})},$(window).on("load",function(){$("[data-validate]").each(function(){var a=$(this),b=a.data();d._init(a,b)})})},PoistueJS.prototype.google_map=function(a){var b=this,c=b.option;b.google_map={type:"google_map",options:"",defaults:{title:c.title,content:"Google Map",contentHTML:!1,lat:3.16738,lng:101.61327,zoom:19,marker:"",autoshow:!1,apikey:!1,version:3,library:"places"},$element:null};var d=b.google_map;b.method.transition;b.google_map.insert=function(a,c){var d=function(){"undefined"!=typeof a&&a()};b.load_external("https://maps.googleapis.com/maps/api/js?v="+c.version+".exp&libraries="+c.library+"&language=en&key="+c.apikey,d)},b.google_map._init=function(a,c){d.$element=a,d.options=$.extend({},d.defaults,c);var e=d.$element,f=d.options,g=function(){if(!($(e).length<1)){var a={lat:f.lat,lng:f.lng},b=new google.maps.Map(e[0],{zoom:f.zoom,center:a}),c='<div id="content" class="googlemap-infowindow"><div id="siteNotice"></div><h4 id="firstHeading" class="firstHeading">'+f.title+'</h4><div id="bodyContent"><p>'+f.content+"</p></div></div>";f.contentHTML&&(c=f.contentHTML);var d=new google.maps.InfoWindow({content:c});marker=new google.maps.Marker({map:b,icon:f.marker,draggable:!1,animation:google.maps.Animation.DROP,position:{lat:f.lat,lng:f.lng}}),marker.addListener("click",function(){b.setCenter(marker.getPosition()),d.open(b,marker)}),f.autoshow&&(d.open(b,marker),b.setCenter(marker.getPosition()))}};"undefined"==typeof google?b.google_map.insert(g,f):g()},$.fn.PoistueJS().google_map=function(a){return this.each(function(){var b=$(this),c="object"==typeof a&&a;"string"==typeof a&&data[a](),d._init(b,c)})}},PoistueJS.prototype.lazyload=function(a){var b=this,c=b.option;b.lazyload={type:"lazyload",options:"",defaults:{classname:"lazy",attr:"src",effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",callback:function(){}},$element:null},b.lazyload.options=$.extend({},b.lazyload.defaults,a);var d=b.lazyload,e=d.options;b.method.transition;b.lazyload.insert=function(a){var d=function(){"undefined"!=typeof a&&a()};b.load_external(c.bower_assets+"/lazyload/build/lazyload.min.js",d)},b.lazyload._init=function(a,b){d.$element=a,d.options=$.extend({},d.defaults,b);var c=d.$element,e=d.options;if("undefined"==typeof lazyload)throw new Error("PoistueJS's lazyload requires LazyLoad Plugin.");$(c).lazyload({data_attribute:e.attr,effect:e.effect,placeholder:e.placeholder,onFinishedAll:e.callback}).removeClass(e.classname)},$.fn.PoistueJS().lazyload=function(a){return this.each(function(){var b=$(this),c="object"==typeof a&&a;"string"==typeof a&&data[a](),d._init(b,c)})},$(window).on("load",function(){$("data-lazyload").each(function(){var a=$(this),b=a.data();d._init(a,b)}),d._init($("img."+e.classname))})},PoistueJS.prototype.load_external=function(a,b){var c=this,d=(c.option,function(){"undefined"!=typeof b&&b()}),e=document.createElement("script");e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,d())}:e.onload=function(){d()},e.src=a,document.getElementsByTagName("head")[0].appendChild(e)},PoistueJS.prototype.method=function(){var a=this;a.option;a.method={},a.method.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.method.pattern=function(a){var b;switch(a){case"email":b="^[_A-z0-9._%+-]+@[_A-z0-9.-]+\\.[_A-z]{1,}$";break;case"phone":b="\\d*"}return b},a.method.transitionEnd=function(){var b=document.createElement(a.defaults.title),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var d in c)if(void 0!==b.style[d])return{end:c[d]};return!1},a.method.transition=function(){return null}},PoistueJS.prototype.scroll_balloon=function(a){var b=this;b.option;b.scroll_balloon={type:"scroll_balloon",class:"scroll-balloon",options:"",defaults:{animation:!0,placement:"bottom-right",offset:500,template:'<i class="fa fa-angle-up"></i>',delay:300,scrollSpeed:"slow"},$element:null,disabled:!1,timeoutScroll:null};var c=b.scroll_balloon,d=b.method.transition;b.scroll_balloon._init=function(a,d){if(!b.scroll_to_top)throw new Error("Scroll Balloon requires PoistueJS's scroll_to_top");null===typeof a&&(c.$element=document.createElement("div")),null===c.$element&&(c.$element=a),c.options=$.extend({},c.defaults,d),c.bindInsert()},b.scroll_balloon.bindInsert=function(){var a,d=($.Event("insert.pstjs."+c.type),c.options),e=c.$element,f=function(){e.trigger("insert.pstjs."+c.type)};a=d.template,e[0].setAttribute("data-placement",d.placement),e[0].setAttribute("data-scrolltotop",""),e[0].setAttribute("data-scroll-speed",d.scrollSpeed),e[0].className+=" "+c.class,d.animation&&(e[0].className+=" animation"),e[0].innerHTML=a,document.getElementsByTagName("body")[0].appendChild(e[0]),b.scroll_to_top._init(e,e.data()),f(),c.controller()},b.scroll_balloon.status=function(){var a=c.$element,b=!0;return null===a&&(b=!1),b},b.scroll_balloon.notDefined=function(){throw new Error("Scroll Balloon: No element found, please create one and run again.")},b.scroll_balloon.show=function(){var a=$.Event("show.pstjs."+c.type),b=(c.options,c.$element);if(c.status()===!1&&c.notDefined(),c.disabled===!0&&(c.disabled=!1),b.hasClass("isShown"))return!1;b.trigger(a);var e=function(){b.trigger("shown.pstjs."+c.type)};b.removeClass("isHidden").addClass("isShown"),b.addClass("in"),d?b.one(d.end,e).emulateTransitionEnd(1e3):e()},b.scroll_balloon.hide=function(){var a=$.Event("hide.pstjs."+c.type),b=(c.options,c.$element);if(c.status()===!1&&c.notDefined(),b.hasClass("isHidden"))return!1;b.trigger(a);var e=function(){b.trigger("hidden.pstjs."+c.type)};b.removeClass("isShown").addClass("isHidden"),b.removeClass("in"),d?b.one(d.end,e).emulateTransitionEnd(1e3):e()},b.scroll_balloon.disable=function(){var a=$.Event("disable.pstjs."+c.type),b=(c.options,c.$element);c.status()===!1&&c.notDefined(),b.trigger(a);var d=function(){b.trigger("disabled.pstjs."+c.type)};c.hide(),c.disabled=!0,d()},b.scroll_balloon.destroy=function(a){var b=$.Event("destroy.pstjs."+c.type),d=(c.options,c.$element);c.status()===!1&&c.notDefined(),d.trigger(b);var e=function(){d.trigger("destroyed.pstjs."+c.type)};d.on("hidden.pstjs."+c.type,function(){e(),c.remove()}),c.hide()},b.scroll_balloon.remove=function(a){var d=c.$element;c.options;c.status()===!1&&c.notDefined(),b.scroll_to_top.destroy(d),d.removeClass("isHidden isShown scroll-to-top"),d.removeClass(c.class),d.off("."+c.type),d[0].innerHTML="",d[0].style="",d=null},b.scroll_balloon.controller=function(){var a,b=c.$element,d=c.options;$(window).on("scroll",function(){clearTimeout(c.timeoutScroll),c.disabled!==!0&&(c.status()===!1&&c.notDefined(),b.hasClass("isAnimate")||(c.timeoutScroll=setTimeout(function(){if(a=$(window).scrollTop(),a<d.offset){if(b.hasClass("isHidden"))return!1;c.hide()}if(a>d.offset){if(b.hasClass("isShown"))return!1;c.show()}},d.delay)))})},$.fn.PoistueJS().scroll_balloon=function(a,b){return this.each(function(){"undefined"==typeof b&&("undefined"==typeof a?a="init":b=a);var d=$(this),e=d.data();switch(a){case"init":c._init(d,e),c.show();break;case"show":c.show();break;case"hide":c.hide();break;case"disable":c.disable();break;case"destroy":c.destroy()}})},$(window).on("load",function(){$("[data-scroll-balloon]").each(function(){var a=$(this),b=a.data();c._init(a,b)})})},PoistueJS.prototype.scroll_to_top=function(a){var b=this;b.option;b.scroll_to_top={type:"extend_view",class:"extend-view",options:"",defaults:{scrollSpeed:"slow"},$element:null};var c=b.scroll_to_top;b.method.transition;b.scroll_to_top._init=function(a,d){c.$element=a,c.options=$.extend({},c.defaults,d);var e=c.$element,f=c.options;e.on("click",function(a){var c=f.scrollSpeed;b.method.isNumeric(c)&&(c=parseInt(c,10)),$("html,body").stop().animate({scrollTop:0},c)})},b.scroll_to_top.destroy=function(a){a.off("click")},b.scroll_to_top.refresh=function(a){a.off("click"),b.scroll_to_top._init(a)},$.fn.PoistueJS().scroll_to_top=function(a){return this.each(function(){var c=$(this),d="object"==typeof a&&a;"string"==typeof a&&data[a](),b.scroll_to_top.options=$.extend({},b.scroll_to_top.defaults,d),b.scroll_to_top._init(c)})},$(window).on("load",function(){$("[data-scrolltotop]").each(function(){var a=$(this),b=a.data();c._init(a,b)})})};var old=$.fn.PoistueJS;$.fn.PoistueJS=function(a){return this.each(function(){$(this);"string"==typeof a&&data[a]()})},$.fn.PoistueJS.Constructor=PoistueJS,$.fn.PoistueJS.noConflict=function(){return $.fn.PoistueJS=old,this};